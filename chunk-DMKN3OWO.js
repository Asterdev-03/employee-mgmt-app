import{Ab as G,Cb as J,Db as z,Fa as _,Ga as M,Ha as B,Ia as k,Ja as P,Ka as n,Kb as H,La as t,Lb as K,Ma as D,Mb as Q,Na as j,Oa as b,Pa as w,Pb as X,Q as W,Qa as N,Qb as Y,Ra as o,Rb as Z,Sa as y,Ta as v,Va as g,W as c,Wa as u,X as p,Xa as C,Ya as x,Za as I,_a as L,da as T,ea as f,f as V,oa as r,ob as A,pb as F,vb as R,wa as S,xb as q,yb as U,za as O}from"./chunk-DOG2S4TC.js";var h=class{clientId;contactPersonName;companyName;address;city;pincode;state;employeeStrength;gstNo;contactNo;regNo;constructor(){this.clientId=0,this.contactPersonName="",this.companyName="",this.address="",this.city="",this.pincode="",this.state="",this.employeeStrength=0,this.gstNo="",this.contactNo="",this.regNo=""}};var E=class s{btnText=f("");btnClass=f("");isDisabled=f(!0);onBtnClick=T();onClick(){this.onBtnClick.emit("Client")}static \u0275fac=function(l){return new(l||s)};static \u0275cmp=S({type:s,selectors:[["app-my-button"]],inputs:{btnText:[1,"btnText"],btnClass:[1,"btnClass"],isDisabled:[1,"isDisabled"]},outputs:{onBtnClick:"onBtnClick"},decls:2,vars:3,consts:[[3,"click","className","disabled"]],template:function(l,e){l&1&&(n(0,"button",0),b("click",function(){return e.onClick()}),o(1),t()),l&2&&(_("className",e.btnClass())("disabled",e.isDisabled()),r(),v(" ",e.btnText(),`
`))},encapsulation:2})};function ne(s,d){if(s&1){let l=j();n(0,"tr")(1,"td"),o(2),t(),n(3,"td"),o(4),x(5,"uppercase"),t(),n(6,"td"),o(7),t(),n(8,"td"),o(9),t(),n(10,"td"),o(11),t(),n(12,"td")(13,"button",27),b("click",function(){let a=c(l).$implicit,m=w();return p(m.onEditClick(a))}),o(14," Edit "),t(),n(15,"button",28),b("click",function(){let a=c(l).$implicit,m=w();return p(m.onDeleteClick(a.clientId))}),o(16," Delete "),t()()()}if(s&2){let l=d.$implicit,e=d.$index;r(2),y(e+1),r(2),y(I(5,5,l.contactPersonName)),r(3),y(l.companyName),r(2),y(l.contactNo),r(2),y(l.employeeStrength)}}function ie(s,d){s&1&&o(0," This is required ")}function oe(s,d){s&1&&o(0," Min 5 characters requied ")}function le(s,d){if(s&1&&(n(0,"div",13),O(1,ie,1,0)(2,oe,1,0),t()),s&2){w();let l=N(38);r(),M(!(l==null||l.errors==null)&&l.errors.required?1:-1),r(),M(!(l==null||l.errors==null)&&l.errors.minlength?2:-1)}}var $=class s{clientObj=new h;clientList=[];clientService=W(X);alertObj=new Y;currentDate=new Date;userList$=new V;ngOnInit(){this.loadClient(),this.userList$=this.clientService.getAllUsers()}loadClient(){this.clientService.getAllClients().subscribe(d=>{this.clientList=d.data})}onSaveClick(d){this.clientService.addUpdateClient(this.clientObj).subscribe(l=>{l.result?(this.alertObj={message:l.message,type:"Success",visible:!0},this.loadClient(),this.clientObj=new h):this.alertObj={message:l.message,type:"Error",visible:!0}})}onDeleteClick(d){confirm("Are you sure you want to delete")&&this.clientService.deleteClientById(d).subscribe(e=>{e.result?(alert("Client Deleted Success"),this.loadClient()):alert("Failure:"+e.message)})}onEditClick(d){this.clientObj=d}static \u0275fac=function(l){return new(l||s)};static \u0275cmp=S({type:s,selectors:[["app-client"]],decls:82,vars:19,consts:[["form","ngForm"],["personName","ngModel"],[3,"alert"],[1,"row"],[1,"col-8"],[1,"card"],[1,"card-header","bg-success"],[1,"card-body"],[1,"table","table-bordered"],[1,"col-4"],[1,"col-6"],["for",""],["type","text","name","personName","required","","minlength","5",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-danger"],["name","companyName","type","text",1,"form-control",3,"ngModelChange","ngModel"],["name","contactNo","type","text",1,"form-control",3,"ngModelChange","ngModel"],["name","city","type","text",1,"form-control",3,"ngModelChange","ngModel"],["name","state","type","text",1,"form-control",3,"ngModelChange","ngModel"],["name","pincode","type","text",1,"form-control",3,"ngModelChange","ngModel"],["name","address",1,"form-control",3,"ngModelChange","ngModel"],["name","employeeStrength","type","text",1,"form-control",3,"ngModelChange","ngModel"],["name","gstNo","type","text",1,"form-control",3,"ngModelChange","ngModel"],["name","regNo","type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","pt-4"],[1,"col-6","text-center"],[1,"btn","btn-secondary"],[3,"onBtnClick","isDisabled","btnClass","btnText"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(l,e){if(l&1){let a=j();D(0,"app-alert",2),n(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6),o(5),x(6,"date"),t(),n(7,"div",7)(8,"table",8)(9,"thead")(10,"tr")(11,"th"),o(12,"Sr No"),t(),n(13,"th"),o(14,"Person Name"),t(),n(15,"th"),o(16,"Company Name"),t(),n(17,"th"),o(18,"Contact No"),t(),n(19,"th"),o(20,"Emp Str"),t(),n(21,"th"),o(22,"Action"),t()()(),n(23,"tbody"),k(24,ne,17,7,"tr",null,B),t()()()()(),n(26,"div",9)(27,"div",5)(28,"div",6),o(29,"New Client"),t(),n(30,"div",7)(31,"form",null,0)(33,"div",3)(34,"div",10)(35,"label",11),o(36,"Person Name"),t(),n(37,"input",12,1),C("ngModelChange",function(i){return c(a),u(e.clientObj.contactPersonName,i)||(e.clientObj.contactPersonName=i),p(i)}),t(),O(39,le,3,2,"div",13),t(),n(40,"div",10)(41,"label",11),o(42,"Company Name"),t(),n(43,"input",14),C("ngModelChange",function(i){return c(a),u(e.clientObj.companyName,i)||(e.clientObj.companyName=i),p(i)}),t()(),n(44,"div",10)(45,"label",11),o(46,"Contact No"),t(),n(47,"input",15),C("ngModelChange",function(i){return c(a),u(e.clientObj.contactNo,i)||(e.clientObj.contactNo=i),p(i)}),t()(),n(48,"div",10)(49,"label",11),o(50,"City"),t(),n(51,"input",16),C("ngModelChange",function(i){return c(a),u(e.clientObj.city,i)||(e.clientObj.city=i),p(i)}),t()(),n(52,"div",10)(53,"label",11),o(54,"State"),t(),n(55,"input",17),C("ngModelChange",function(i){return c(a),u(e.clientObj.state,i)||(e.clientObj.state=i),p(i)}),t()(),n(56,"div",10)(57,"label",11),o(58,"Pincode"),t(),n(59,"input",18),C("ngModelChange",function(i){return c(a),u(e.clientObj.pincode,i)||(e.clientObj.pincode=i),p(i)}),t()(),n(60,"div",10)(61,"label",11),o(62,"Address"),t(),n(63,"textarea",19),C("ngModelChange",function(i){return c(a),u(e.clientObj.address,i)||(e.clientObj.address=i),p(i)}),t()(),n(64,"div",10)(65,"label",11),o(66,"Employee Strength"),t(),n(67,"input",20),C("ngModelChange",function(i){return c(a),u(e.clientObj.employeeStrength,i)||(e.clientObj.employeeStrength=i),p(i)}),t()(),n(68,"div",10)(69,"label",11),o(70,"GstNo"),t(),n(71,"input",21),C("ngModelChange",function(i){return c(a),u(e.clientObj.gstNo,i)||(e.clientObj.gstNo=i),p(i)}),t()(),n(72,"div",10)(73,"label",11),o(74,"RegNo"),t(),n(75,"input",22),C("ngModelChange",function(i){return c(a),u(e.clientObj.regNo,i)||(e.clientObj.regNo=i),p(i)}),t()()(),n(76,"div",23)(77,"div",24)(78,"button",25),o(79,"Reset"),t()(),n(80,"div",24)(81,"app-my-button",26),b("onBtnClick",function(i){return c(a),p(e.onSaveClick(i))}),t()()()()()()()()}if(l&2){let a=N(32),m=N(38);_("alert",e.alertObj),r(5),v(" Client List - ",L(6,16,e.currentDate,"dd/MM/yyyy")," "),r(19),P(e.clientList),r(13),g("ngModel",e.clientObj.contactPersonName),r(2),M(m.touched?39:-1),r(4),g("ngModel",e.clientObj.companyName),r(4),g("ngModel",e.clientObj.contactNo),r(4),g("ngModel",e.clientObj.city),r(4),g("ngModel",e.clientObj.state),r(4),g("ngModel",e.clientObj.pincode),r(4),g("ngModel",e.clientObj.address),r(4),g("ngModel",e.clientObj.employeeStrength),r(4),g("ngModel",e.clientObj.gstNo),r(4),g("ngModel",e.clientObj.regNo),r(6),_("isDisabled",!a.valid)("btnClass","btn btn-success")("btnText",e.clientObj.clientId!==0?"Update Client":"Save Client")}},dependencies:[Q,z,R,q,U,H,K,J,G,A,F,Z,E],encapsulation:2})};export{$ as ClientComponent};
